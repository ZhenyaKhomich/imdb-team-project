import{a as B}from"./chunk-2XWYOOHD.js";import{a as N,b as L}from"./chunk-WBN4UKR4.js";import{t as A}from"./chunk-A4OJEWE2.js";import{a as j}from"./chunk-JMU6WUS3.js";import{a as z,b as $}from"./chunk-O3XRZV7M.js";import"./chunk-EQKMLW76.js";import{Ab as S,Bb as I,Fb as T,Ja as u,Kb as E,Lb as W,Pa as g,Rb as F,S as s,Ta as M,W as h,Wb as R,X as C,Za as d,_a as b,a as w,ab as v,bb as x,cb as i,db as o,eb as _,ib as P,kb as f,lb as l,ob as O,sc as D,tc as V,ua as y,yb as r,za as c,zb as k}from"./chunk-U6YJBN55.js";var Y=()=>[],q=(e,n)=>n.id;function G(e,n){e&1&&(i(0,"div",3),_(1,"mat-icon",6),i(2,"div",7),r(3,"Your watchlist is empty"),o()())}function H(e,n){if(e&1&&(_(0,"img",11),E(1,"changeUrlPicture")),e&2){let t=l().$implicit;O("src",W(1,1,t.primaryImage.url),y)}}function J(e,n){e&1&&_(0,"img",12)}function K(e,n){e&1&&_(0,"mat-icon",22)}function Q(e,n){e&1&&_(0,"mat-icon",23)}function X(e,n){if(e&1&&(i(0,"div",15)(1,"div",21),v(2,K,1,0,"mat-icon",22,b),g(4,Q,1,0,"mat-icon",23),o(),r(5),o()),e&2){let t=l().$implicit,a=l(2);c(2),x(T(3,Y).constructor(a.Math.floor(t.rating.aggregateRating))),c(2),d(a.Number.isInteger(t.rating.aggregateRating)?-1:4),c(),I(" ",t.rating.aggregateRating," (votes: ",t.rating.voteCount,") ")}}function Z(e,n){if(e&1){let t=P();i(0,"div",9)(1,"div",10),g(2,H,2,3,"img",11)(3,J,1,0,"img",12),o(),i(4,"div",13)(5,"div",14),r(6),o(),g(7,X,6,4,"div",15),i(8,"div",16),r(9),o(),i(10,"div",17)(11,"mat-icon",18),f("click",function(){let m=h(t).$implicit,p=l(2);return C(p.openTrailerList(m.id))}),o(),i(12,"mat-icon",19),f("click",function(){let m=h(t).$implicit,p=l(2);return C(p.moviesService.openMovieAndAddRecentlyViewed(m))}),o(),i(13,"mat-icon",20),f("click",function(){let m=h(t).$implicit,p=l(2);return C(p.watchlistService.deleteMovie(m.id))}),o()()()()}if(e&2){let t=n.$implicit;c(2),d(t.primaryImage?2:3),c(4),k(t.primaryTitle),c(),d(t.rating?7:-1),c(2),S("",t.startYear," year")}}function tt(e,n){if(e&1&&(i(0,"div",4)(1,"div",8),v(2,Z,14,4,"div",9,q),o()()),e&2){let t=l();c(2),x(t.movies.titles)}}var U=class e{signalService=s(A);movies=w({},this.signalService.watchlistData());watchlistService=s(N);moviesService=s(L);watchlist$=R(()=>{this.movies=w({},this.signalService.watchlistData()),this.cdr.detectChanges()});Math=Math;Number=Number;AppRoutesEnum=j;cdr=s(F);router=s(D);ngOnInit(){this.watchlistService.getMovies()}openTrailerList(n){this.moviesService.getTrailer(n).subscribe(t=>{t.videos.length>0&&(this.signalService.trailerVideos.set(t),this.router.navigate(["trailer",n]))})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["app-watchlist"]],decls:8,vars:2,consts:[[1,"watchlist"],[1,"container"],[1,"watchlist__title"],[1,"watchlist__empty"],[1,"watchlist__no-empty"],[1,"btn","btn-back-to-main",3,"routerLink"],["fontIcon","no_backpack"],[1,"watchlist__empty-text"],[1,"watchlist__elements"],[1,"watchlist__element"],[1,"watchlist__element-img"],["alt","No image","loading","lazy",3,"src"],["src","images/IMDb.jpg","alt","imbd","loading","lazy"],[1,"watchlist__element-description"],[1,"watchlist__element-title"],[1,"watchlist__element-rating"],[1,"watchlist__element-year"],[1,"watchlist__element-actions"],["fontIcon","slow_motion_video",1,"play",3,"click"],["fontIcon","info",1,"info",3,"click"],["fontIcon","delete",1,"delete",3,"click"],[1,"rating-stars"],["fontIcon","star"],["fontIcon","star_half"]],template:function(t,a){t&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),r(3,"Your watchlist"),o(),g(4,G,4,0,"div",3)(5,tt,4,0,"div",4),i(6,"button",5),r(7,"Back main"),o()()()),t&2&&(c(4),d(a.movies.titles&&a.movies.titles.length===0?4:a.movies.titles&&a.movies.titles.length>0?5:-1),c(2),M("routerLink","/"+a.AppRoutesEnum.MAIN))},dependencies:[$,z,V,B],styles:["[_ngcontent-%COMP%]:root{--light-text-primary: #121212;--light-background-secondary: #d7d7d7;--light-background-primary: #ececec;--light-text-secondary: #777;--light-yellow: #e0b519;--dark-text-primary: #c3c3c3;--dark-text-secondary: #797979;--dark-background-secondary: #1a1a1a;--dark-background-primary: #0e0e0e;--dark-background-nav: #080808;--background-light-transparent-100: rgba(163, 163, 163, .15);--background-light-transparent-50: rgba(163, 163, 163, .05);--background-transparent-600: rgba(163, 163, 163, .6);--main-light-yellow: #f5c518;--main-light-yellow-sec-light: #b29630;--main-light-yellow-sec-dark: #d8c882;--main-blue: #42bdda;--green-color: #3ff423;--red-color: #fb0b0b;--slider-arrows: rgba(80, 79, 79, .72);--slider-arrows-hover: rgba(80, 79, 79, .92);--bookmark-add: rgba(181, 172, 172, .7);--filter-title-text: rgb(121, 121, 121);--filter-category-text: rgb(195, 195, 195)}[data-theme=light][_ngcontent-%COMP%]{--light-text-primary: #c3c3c3;--light-background-secondary: #1a1a1a;--light-background-primary: #0e0e0e;--dark-background-primary: #ececec;--light-text-secondary: #797979;--dark-background-nav: #ececec;--main-light-yellow-sec-dark: #f5c518;--background-transparent-600: rgba(163, 163, 163, .05);--filter-category-text: #777}.watchlist[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:start;padding:20px 20px 0}.watchlist__title[_ngcontent-%COMP%]{align-self:start;font-size:28px;font-weight:600;color:var(--light-yellow)}.watchlist__empty[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:30px;margin-bottom:50px}.watchlist__empty[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:50px;width:50px;height:50px;margin-bottom:20px}.watchlist__empty-text[_ngcontent-%COMP%]{font-size:24px}.watchlist__no-empty[_ngcontent-%COMP%]{display:flex;width:100%;align-self:start;margin-top:50px}.watchlist__no-empty[_ngcontent-%COMP%]   .watchlist__elements[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;flex-wrap:wrap;gap:15px}.watchlist__no-empty[_ngcontent-%COMP%]   .watchlist__elements[_ngcontent-%COMP%]   .watchlist__element[_ngcontent-%COMP%]{display:flex;gap:5px;max-width:285px;border:1px solid var(--light-background-primary);border-radius:10px;justify-self:start}.watchlist__no-empty[_ngcontent-%COMP%]   .watchlist__elements[_ngcontent-%COMP%]   .watchlist__element-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:110px;height:100%}.watchlist__no-empty[_ngcontent-%COMP%]   .watchlist__elements[_ngcontent-%COMP%]   .watchlist__element-description[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;gap:5px;padding-top:5px;padding-bottom:5px;width:180px}.watchlist__no-empty[_ngcontent-%COMP%]   .watchlist__elements[_ngcontent-%COMP%]   .watchlist__element-title[_ngcontent-%COMP%]{font-size:20px}.watchlist__no-empty[_ngcontent-%COMP%]   .watchlist__elements[_ngcontent-%COMP%]   .watchlist__element-rating[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:var(--light-yellow)}.watchlist__no-empty[_ngcontent-%COMP%]   .watchlist__elements[_ngcontent-%COMP%]   .watchlist__element-actions[_ngcontent-%COMP%]{align-self:end;justify-self:flex-end}.watchlist__no-empty[_ngcontent-%COMP%]   .watchlist__elements[_ngcontent-%COMP%]   .watchlist__element-actions[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{cursor:pointer;transition:all .3s linear;padding-right:5px}.watchlist__no-empty[_ngcontent-%COMP%]   .watchlist__elements[_ngcontent-%COMP%]   .watchlist__element-actions[_ngcontent-%COMP%]   mat-icon.delete[_ngcontent-%COMP%]{color:var(--red-color)}.watchlist__no-empty[_ngcontent-%COMP%]   .watchlist__elements[_ngcontent-%COMP%]   .watchlist__element-actions[_ngcontent-%COMP%]   mat-icon.play[_ngcontent-%COMP%]{color:var(--main-light-yellow)}.watchlist__no-empty[_ngcontent-%COMP%]   .watchlist__elements[_ngcontent-%COMP%]   .watchlist__element-actions[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{transform:scale(1.05);color:#72f140}"],changeDetection:0})};export{U as WatchlistComponent};
